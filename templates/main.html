{% extends 'layout.html' %}

{% block content %}
<body>
	<div class="jumbotron">
		<h1>
			Cookie Thief v0.
			<span class="vim-caret">1</span>
			<blockquote class="blockquote blockquote-reverse">
				  <p class="mb-0">All warfare is based on deception.</p>
				    <footer class="blockquote-footer">Sun Tzu
					        <cite title="Source Title">The Art of War</cite>
						  </footer>
			</blockquote>
		</h1>
	</div>
	

	<div class="container">
		<h2>Nothing to see here... (yet)</h2>
		<hr>
		{% for header in headers %}
		    <p><i>{{ header }}</i></p>
		{% endfor %}
		<p>Stolen Cookie: 

		<ul> <li id="testList"></li></ul>
		<hr>

	<script>
	(function poll() {
    	$.ajax({
        url: "/poll",
        type: "GET",
        success: function(data) {
                var node = document.createElement("LI");
		var textnode = document.createTextNode(data);
		node.appendChild(textnode);
		document.getElementById("testList").appendChild(node);
		//$('#testList li').last(1).remove();
        },
        dataType: "text",
        complete: setTimeout(function() {poll()}, 5000),
        timeout: 2000
    })
})();
	</script>

	</div>

</body>
{% endblock %}
